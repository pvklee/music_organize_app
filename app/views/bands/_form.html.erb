<% action = (band.persisted? ? band_url(band) : bands_url) %>
<% method = (band.persisted? ? :patch : :post) %>
<% message = (band.persisted? ? 'Update!' : 'Create!') %>

<%= render 'shared/errors' %>
<form action="<%= action %>" method="post">
    <%= auth_token %>
    <input
        name="_method"
        value="<%= method %>"
        type="hidden">
    
    <label for="band_name">Name</label>
    <input
        id="band_name"
        name="band[name]"
        value="<%= band.name %>"
        type="text">
    <br>

    <input 
        type="submit"
        value="<%= message %>">

</form>